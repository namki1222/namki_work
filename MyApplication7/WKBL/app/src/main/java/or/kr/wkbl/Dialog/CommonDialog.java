package or.kr.wkbl.Dialog;

import android.app.Dialog;
import android.content.Context;
import android.widget.TextView;

import butterknife.BindView;
import butterknife.ButterKnife;
import or.kr.wkbl.R;
import rx.functions.Action1;

public class CommonDialog extends Dialog {
    //----------------------------------------------------------------------------------------------
    // static final fields
    //----------------------------------------------------------------------------------------------

    //----------------------------------------------------------------------------------------------
    // fields
    //----------------------------------------------------------------------------------------------

    @BindView(R.id.dlg_tv_message)
    TextView tvMessage;
    @BindView(R.id.dlg_tv_done)
    TextView tvDone;

    //----------------------------------------------------------------------------------------------
    // constructor
    //----------------------------------------------------------------------------------------------

    public CommonDialog(Context context) {
        super(context, R.style.Dialog_AppTheme_Transparent_TransparentStatusBar);
        setContentView(R.layout.dialog_common);
        ButterKnife.bind(this);
    }

    //----------------------------------------------------------------------------------------------
    // life cycle
    //----------------------------------------------------------------------------------------------

    //----------------------------------------------------------------------------------------------
    // override
    //----------------------------------------------------------------------------------------------

    //----------------------------------------------------------------------------------------------
    // public
    //----------------------------------------------------------------------------------------------

    public void setMessage(String text) {
        tvMessage.setText(text);
    }

    public void setPositiveButton(String text, Action1<Void> action) {
        tvDone.setText(text);
        tvDone.setOnClickListener(v -> {
            dismiss();
            if (action != null) {
                action.call(null);
            }
        });
    }

    //----------------------------------------------------------------------------------------------
    // protected
    //----------------------------------------------------------------------------------------------

    //----------------------------------------------------------------------------------------------
    // private
    //----------------------------------------------------------------------------------------------

    //----------------------------------------------------------------------------------------------
    // inner class
    //----------------------------------------------------------------------------------------------
}
